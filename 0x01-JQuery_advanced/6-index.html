<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 6</title>
        <script src="https://code.jquery.com/jquery-3.6.4.slim.min.js" integrity="sha256-a2yjHM4jnF9f54xUQakjZGaqYs/V1CYvWpoqZzC2/Bw=" crossorigin="anonymous"></script>
        <script type="application/javascript">
          function createFamilyTree() {
            $('body').append('<table><thead><tr><th>Firstname</th><th>Lastname</th></tr></thead></table>');
            $('table').append('<tbody></tbody>');
          }

          function addNewMember(firstName, lastName, position) {
            let newRow = `<tr><td>${firstName}</td><td>${lastName}</td><td class="orng">(x)</td></tr>`;
            if (position === "before"){
              $('tbody').prepend(newRow);
            } else {
              $('tbody').append(newRow);
            }
            $('.orng').css('background-color', 'orange').click(function(){
              $(this).parent().remove();
            });
          }

          function createForm() {
            $('<input>').attr('type', 'text').insertBefore('table');
            $('<input>').attr('type', 'text').insertBefore('table');
            $('<select>').attr('id', 'position').append(
              $('<option>').text('Before'),
              $('<option>').text('After')
            ).insertBefore('table');
            $('<input>').attr('type', 'submit').click(function() {
              let firstName = $('input[type="text"]').eq(0).val();
              let lastName = $('input[type="text"]').eq(1).val();
              let position = $('#position').val();
              if (position === 'Before') {
                position = 'before';
              } else {
                position = 'after';
              }
              addNewMember(firstName, lastName, position);
            }).insertBefore('table');
            $('<br>').insertBefore('table');
          }          

          $(document).ready(function() {
            createFamilyTree();
            addNewMember("Guillaume", "Salva");
            addNewMember("Arielle", "Snizt");
            addNewMember("Fanette", "Snizt");
            addNewMember("Gerard", "Snizt");
            addNewMember("Victor", "Salva");
            createForm();
          });
          
        </script>
    </head>

    <body>

    </body>

</html>